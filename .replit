entrypoint = "apps/frontend/index.html"
onBoot = ["bash", "-lc", "./scripts/bootstrap_env.sh"]
run = ["npm", "run", "dev"]
modules = ["nodejs-24", "web"]
hidden = [
  ".config",
  ".git",
  "node_modules",
  "dist",
  ".venv",
  "apps/backend/__pycache__",
  ".pytest_cache",
  "coverage",
  ".turbo",
]

[nix]
channel = "stable-25_05"

[env]
FLASK_ENV = "development"
FLASK_SECRET_KEY = "dev-secret-change-me"
NODE_ENV = "development"

[deployment]
deploymentTarget = "autoscale"
build = ["npm", "run", "build"]
run = ["npm", "run", "start"]

[tasks]
file = ".replit-tasks.json"

[[ports]]
localPort = 5173
externalPort = 80

[[ports]]
localPort = 5000
externalPort = 3000

[[ports]]
localPort = 5001
externalPort = 3001
