{
  "start": {
    "id": "start",
    "speaker": "Pixel",
    "text": "Awesome! A platformer - the classic jump-and-run adventure! Let's build this scene by scene with meaningful choices that shape your game. First, let's define your world's theme!",
    "followUp": "What kind of world should your platformer take place in? This choice bundles matching backgrounds, platforms, and music!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "worldTheme",
      "category": "environment"
    },
    "options": [
      {
        "text": "A: Forest Adventure - Lush greenery, wooden platforms, nature sounds",
        "action": "selectComponentVariant",
        "actionParams": { 
          "componentId": "worldTheme", 
          "variant": "A",
          "bundle": ["forest_bg", "wood_platforms", "nature_music"]
        },
        "next": "projectSetup"
      },
      {
        "text": "B: Desert Challenge - Sandy dunes, stone blocks, mystical ambience",
        "action": "selectComponentVariant",
        "actionParams": { 
          "componentId": "worldTheme", 
          "variant": "B",
          "bundle": ["desert_bg", "stone_platforms", "mystic_music"]
        },
        "next": "projectSetup"
      }
    ]
  },

  "projectSetup": {
    "id": "projectSetup",
    "speaker": "Pixel",
    "text": "Perfect choice! Now let's make this YOUR game. What should we call your platformer adventure?",
    "options": [
      {
        "text": "A: Let me type my own game name",
        "action": "promptGameName",
        "next": "titlePresentation"
      },
      {
        "text": "B: Generate a cool name based on my theme",
        "action": "generateGameName",
        "actionParams": { "gameType": "platformer" },
        "next": "titlePresentation"
      }
    ]
  },

  "titlePresentation": {
    "id": "titlePresentation",
    "speaker": "Pixel",
    "text": "How should your title screen present the game name?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "titleStyle",
      "category": "ui"
    },
    "options": [
      {
        "text": "A: Animated Title - Letters bounce in with particle effects",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "titleStyle", "variant": "A" },
        "next": "titleShowcase"
      },
      {
        "text": "B: Static Title with Effects - Glowing, pulsing logo with lens flares",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "titleStyle", "variant": "B" },
        "next": "titleShowcase"
      }
    ]
  },

  "titleShowcase": {
    "id": "titleShowcase",
    "speaker": "Pixel",
    "text": "What should be the main focus of your title screen?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "titleFocus",
      "category": "ui"
    },
    "options": [
      {
        "text": "A: Hero Showcase - Character bounces and shows abilities",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "titleFocus", "variant": "A" },
        "next": "jumpMechanics"
      },
      {
        "text": "B: World Preview - Scrolling preview of level elements",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "titleFocus", "variant": "B" },
        "next": "jumpMechanics"
      }
    ]
  },

  "jumpMechanics": {
    "id": "jumpMechanics",
    "speaker": "Pixel",
    "text": "STAGE 2: Core Mechanics! First - how should jumping feel?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "jumpStyle",
      "category": "movement"
    },
    "options": [
      {
        "text": "A: Floaty Jump - Variable height with air control",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "jumpStyle", "variant": "A" },
        "next": "movementSpeed"
      },
      {
        "text": "B: Realistic Jump - Fixed arc with momentum physics",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "jumpStyle", "variant": "B" },
        "next": "movementSpeed"
      }
    ]
  },

  "movementSpeed": {
    "id": "movementSpeed",
    "speaker": "Pixel",
    "text": "How fast should your character move?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "speedStyle",
      "category": "movement"
    },
    "options": [
      {
        "text": "A: Speedy Runner - Fast-paced action gameplay",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "speedStyle", "variant": "A" },
        "next": "deathStyle"
      },
      {
        "text": "B: Careful Explorer - Precision platforming focus",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "speedStyle", "variant": "B" },
        "next": "deathStyle"
      }
    ]
  },

  "deathStyle": {
    "id": "deathStyle",
    "speaker": "Pixel",
    "text": "What happens when the player gets hit or falls?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "deathMechanic",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Instant Respawn - Quick fade and back in action",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "deathMechanic", "variant": "A" },
        "next": "checkpointSystem"
      },
      {
        "text": "B: Dramatic Death Animation - Full sequence with sound effects",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "deathMechanic", "variant": "B" },
        "next": "checkpointSystem"
      }
    ]
  },

  "checkpointSystem": {
    "id": "checkpointSystem",
    "speaker": "Pixel",
    "text": "How forgiving should the checkpoint system be?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "checkpoints",
      "category": "gameplay"
    },
    "options": [
      {
        "text": "A: Generous Checkpoints - Save progress frequently",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "checkpoints", "variant": "A" },
        "next": "platformTypes"
      },
      {
        "text": "B: Challenging Sparse - Checkpoints only at major milestones",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "checkpoints", "variant": "B" },
        "next": "platformTypes"
      }
    ]
  },

  "platformTypes": {
    "id": "platformTypes",
    "speaker": "Pixel",
    "text": "STAGE 3: World Building! What kind of platforms will challenge players?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "platformBehavior",
      "category": "world"
    },
    "options": [
      {
        "text": "A: Moving Platforms - Patrol paths and elevators",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "platformBehavior", "variant": "A" },
        "next": "enemyBehavior"
      },
      {
        "text": "B: Static Challenges - Crumbling and bouncy platforms",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "platformBehavior", "variant": "B" },
        "next": "enemyBehavior"
      }
    ]
  },

  "enemyBehavior": {
    "id": "enemyBehavior",
    "speaker": "Pixel",
    "text": "How should enemies behave when they spot the player?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "enemyAI",
      "category": "world"
    },
    "options": [
      {
        "text": "A: Patrol Routes - Predictable patterns to learn",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "enemyAI", "variant": "A" },
        "next": "powerUpStyle"
      },
      {
        "text": "B: Chase Mode - Actively hunt the player",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "enemyAI", "variant": "B" },
        "next": "powerUpStyle"
      }
    ]
  },

  "powerUpStyle": {
    "id": "powerUpStyle",
    "speaker": "Pixel",
    "text": "What power-up system fits your game best? This includes collectibles too!",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "powerUpSystem",
      "category": "items"
    },
    "options": [
      {
        "text": "A: Mario Style - Mushrooms for size, flowers for projectiles, coins for lives",
        "action": "selectComponentVariant",
        "actionParams": { 
          "componentId": "powerUpSystem", 
          "variant": "A",
          "bundle": ["mushroom", "fireflower", "coins", "1up"]
        },
        "next": "bossPattern"
      },
      {
        "text": "B: Sonic Style - Rings for health, shields for protection, speed boosts",
        "action": "selectComponentVariant",
        "actionParams": { 
          "componentId": "powerUpSystem", 
          "variant": "B",
          "bundle": ["rings", "shields", "speedboost", "invincibility"]
        },
        "next": "bossPattern"
      }
    ]
  },

  "bossPattern": {
    "id": "bossPattern",
    "speaker": "Pixel",
    "text": "STAGE 4: Boss Battle! How should the boss AI work?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "bossAI",
      "category": "boss"
    },
    "options": [
      {
        "text": "A: Predictable Patterns - Learn attack sequences to win",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "bossAI", "variant": "A" },
        "next": "arenaDesign"
      },
      {
        "text": "B: Adaptive AI - Boss learns and counters player strategy",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "bossAI", "variant": "B" },
        "next": "arenaDesign"
      }
    ]
  },

  "arenaDesign": {
    "id": "arenaDesign",
    "speaker": "Pixel",
    "text": "What kind of arena should the boss fight take place in?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "bossArena",
      "category": "boss"
    },
    "options": [
      {
        "text": "A: Open Arena - Focus on dodging and timing",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "bossArena", "variant": "A" },
        "next": "bossDefeat"
      },
      {
        "text": "B: Platform Challenge - Use environment to your advantage",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "bossArena", "variant": "B" },
        "next": "bossDefeat"
      }
    ]
  },

  "bossDefeat": {
    "id": "bossDefeat",
    "speaker": "Pixel",
    "text": "How should the boss defeat be presented?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "bossVictory",
      "category": "boss"
    },
    "options": [
      {
        "text": "A: Epic Cutscene - Dramatic slow-motion with explosions",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "bossVictory", "variant": "A" },
        "next": "levelComplete"
      },
      {
        "text": "B: Quick Celebration - Jump to victory immediately",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "bossVictory", "variant": "B" },
        "next": "levelComplete"
      }
    ]
  },

  "levelComplete": {
    "id": "levelComplete",
    "speaker": "Pixel",
    "text": "STAGE 5: Transitions & Polish! What happens when a level is completed?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "levelEnd",
      "category": "transitions"
    },
    "options": [
      {
        "text": "A: Stats Screen - Show time, score, collectibles found",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "levelEnd", "variant": "A" },
        "next": "gameOver"
      },
      {
        "text": "B: Victory Dance - Character celebrates with animation",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "levelEnd", "variant": "B" },
        "next": "gameOver"
      }
    ]
  },

  "gameOver": {
    "id": "gameOver",
    "speaker": "Pixel",
    "text": "What happens when the player runs out of lives?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "gameOverScreen",
      "category": "transitions"
    },
    "options": [
      {
        "text": "A: Retry from Checkpoint - Continue from last checkpoint",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "gameOverScreen", "variant": "A" },
        "next": "celebrationEffects"
      },
      {
        "text": "B: Restart Level - Begin the entire level again",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "gameOverScreen", "variant": "B" },
        "next": "celebrationEffects"
      }
    ]
  },

  "celebrationEffects": {
    "id": "celebrationEffects",
    "speaker": "Pixel",
    "text": "Finally, what celebration effects for game completion?",
    "action": "showComponentChoice",
    "actionParams": {
      "componentId": "celebration",
      "category": "effects"
    },
    "options": [
      {
        "text": "A: Confetti Explosion - Colorful paper celebration",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "celebration", "variant": "A" },
        "next": "complete"
      },
      {
        "text": "B: Fireworks Display - Sky-filling pyrotechnics",
        "action": "selectComponentVariant",
        "actionParams": { "componentId": "celebration", "variant": "B" },
        "next": "complete"
      }
    ]
  },

  "complete": {
    "id": "complete",
    "speaker": "Pixel",
    "text": "🎮 AMAZING! Your platformer is complete with all 5 stages perfectly designed!",
    "followUp": "Title ✓ Core Mechanics ✓ World Building ✓ Boss Battle ✓ Transitions ✓ Every choice shapes your unique game!",
    "action": "compileFullGame",
    "options": [
      {
        "text": "Play my complete platformer!",
        "action": "launchPyodideGame"
      },
      {
        "text": "Export as Python file",
        "action": "exportPyodideGame"  
      },
      {
        "text": "Open in Pro Editor",
        "action": "openWYSIWYGEditor"
      }
    ]
  }
}