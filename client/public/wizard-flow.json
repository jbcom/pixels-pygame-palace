{
  "nodes": {
    "start": {
      "id": "start",
      "speaker": "Pixel",
      "text": "Hey there! I'm Pixel, your game-making buddy! Ready to cook up something awesome? 🎮",
      "options": [
        {
          "text": "Let's build a game! 🎮",
          "next": "gamePath"
        },
        {
          "text": "Teach me Python first 📚",
          "next": "learnPath"
        }
      ]
    },
    "guidedExperience": {
      "id": "guidedExperience",
      "speaker": "Pixel",
      "text": "Not for long! Check out the WYSIWYG editor - it's like building with digital LEGOs! You drag stuff, I write the code. Magic!",
      "options": [
        {
          "text": "Whoa, show me this magic!",
          "next": "guidedTour"
        },
        {
          "text": "I'm ready, let me at it!",
          "action": "openWYSIWYGEditor"
        }
      ]
    },
    "guidedTour": {
      "id": "guidedTour",
      "speaker": "Pixel",
      "text": "Smart move! Let me give you the quick tour - it'll save you time, trust me!",
      "followUp": "Think of it like this: left side is your toy box, middle is your playground, right side is where you tweak stuff.",
      "additionalText": "Pro tip: Start with a character sprite, then add some platforms. Everything you drop becomes instant Python code. It's honestly kind of mesmerizing to watch!",
      "action": "openWYSIWYGEditor",
      "options": [
        {
          "text": "Alright, I'm ready!",
          "action": "openWYSIWYGEditor"
        }
      ]
    },
    "gamePath": {
      "id": "gamePath",
      "speaker": "Pixel",
      "text": "Alright, time for the fun part! What kind of game is bouncing around in your head right now?",
      "options": [
        {
          "text": "Something with swords and magic and epic quests!",
          "next": "workStyle",
          "setVariable": { "gameType": "rpg" }
        },
        {
          "text": "A jumpy, bouncy platformer!",
          "next": "workStyle",
          "setVariable": { "gameType": "platformer" }
        },
        {
          "text": "Ooh, dark dungeons and treasure hunting",
          "next": "workStyle",
          "setVariable": { "gameType": "dungeon" }
        },
        {
          "text": "SPEED! I want to go fast!",
          "next": "workStyle",
          "setVariable": { "gameType": "racing" }
        },
        {
          "text": "Something that makes people think",
          "next": "workStyle",
          "setVariable": { "gameType": "puzzle" }
        },
        {
          "text": "A story-driven adventure would be cool",
          "next": "workStyle",
          "setVariable": { "gameType": "adventure" }
        }
      ]
    },
    "workStyle": {
      "id": "workStyle",
      "speaker": "Pixel",
      "text": "Nice choice! Now, quick question - how do you want to approach this?",
      "options": [
        {
          "text": "I'll dive right in - just show me the tools!",
          "action": "openEditor"
        },
        {
          "text": "Walk me through it - I learn best with guidance",
          "next": "guidedStart"
        }
      ]
    },
    "guidedStart": {
      "id": "guidedStart",
      "speaker": "Pixel",
      "text": "Perfect! I'll guide you through building your complete game step by step. We'll create three essential parts: a title screen to welcome players, the main gameplay, and an ending screen.",
      "followUp": "Let's start with your title screen - it's the first thing players see, so we'll make it pop! Ready?",
      "options": [
        {
          "text": "Yes, let's make it amazing!",
          "next": "guidedTitleScreen"
        }
      ]
    },
    "guidedTitleScreen": {
      "id": "guidedTitleScreen",
      "speaker": "Pixel",
      "text": "Let's design your title screen! First, pick a background style for your game.",
      "followUp": "Each style sets the mood for your entire game!",
      "action": "showAssets",
      "actionParams": {
        "type": "background",
        "curated": true,
        "gameType": "title"
      },
      "options": [
        {
          "text": "I've chosen my background!",
          "next": "guidedTitleFont"
        }
      ]
    },
    "guidedTitleFont": {
      "id": "guidedTitleFont",
      "speaker": "Pixel",
      "text": "Great choice! Now let's pick a font for your game title.",
      "followUp": "The right font makes your title pop!",
      "action": "showAssets",
      "actionParams": {
        "type": "font",
        "curated": true
      },
      "options": [
        {
          "text": "Font selected!",
          "next": "guidedTitleSound"
        }
      ]
    },
    "guidedTitleSound": {
      "id": "guidedTitleSound",
      "speaker": "Pixel",
      "text": "Now for the music! Pick a track that matches your game's vibe.",
      "action": "showAssets",
      "actionParams": {
        "type": "music",
        "curated": true,
        "category": "title"
      },
      "options": [
        {
          "text": "Perfect music!",
          "next": "guidedGameplayMovement"
        }
      ]
    },
    "guidedGameplayMovement": {
      "id": "guidedGameplayMovement",
      "speaker": "Pixel",
      "text": "Time for gameplay! First big choice - how should movement feel in your game?",
      "action": "showComponentChoice",
      "actionParams": {
        "componentId": "jump",
        "category": "movement"
      },
      "options": [
        {
          "text": "A: Floaty Jump - Hold to jump higher with air control",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "jump", "variant": "A" },
          "next": "guidedGameplayCharacter"
        },
        {
          "text": "B: Realistic Jump - Fixed arc with no air control",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "jump", "variant": "B" },
          "next": "guidedGameplayCharacter"
        }
      ]
    },
    "guidedGameplayCharacter": {
      "id": "guidedGameplayCharacter",
      "speaker": "Pixel",
      "text": "Nice! Now pick your main character sprite.",
      "action": "showAssets",
      "actionParams": {
        "type": "sprite",
        "category": "characters",
        "curated": true
      },
      "options": [
        {
          "text": "Character selected!",
          "next": "guidedGameplayCombat"
        }
      ]
    },
    "guidedGameplayCombat": {
      "id": "guidedGameplayCombat",
      "speaker": "Pixel",
      "text": "How should combat work? Shooting projectiles or melee attacks?",
      "options": [
        {
          "text": "Shooting - Ranged attacks with projectiles!",
          "next": "guidedGameplayShootingChoice"
        },
        {
          "text": "Melee - Close combat with sword swings!",
          "next": "guidedGameplayMeleeChoice"
        }
      ]
    },
    "guidedGameplayShootingChoice": {
      "id": "guidedGameplayShootingChoice",
      "speaker": "Pixel",
      "text": "Shooting it is! How should projectiles behave?",
      "action": "showComponentChoice",
      "actionParams": {
        "componentId": "shooting",
        "category": "combat"
      },
      "options": [
        {
          "text": "A: Rapid Fire - Hold to spray bullets!",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "shooting", "variant": "A" },
          "next": "guidedGameplayEnemies"
        },
        {
          "text": "B: Charged Shot - Hold to power up!",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "shooting", "variant": "B" },
          "next": "guidedGameplayEnemies"
        }
      ]
    },
    "guidedGameplayMeleeChoice": {
      "id": "guidedGameplayMeleeChoice",
      "speaker": "Pixel",
      "text": "Melee combat! How should sword attacks work?",
      "action": "showComponentChoice",
      "actionParams": {
        "componentId": "melee",
        "category": "combat"
      },
      "options": [
        {
          "text": "A: Quick Slash - Fast combo attacks!",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "melee", "variant": "A" },
          "next": "guidedGameplayEnemies"
        },
        {
          "text": "B: Heavy Strike - Powerful charged swings!",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "melee", "variant": "B" },
          "next": "guidedGameplayEnemies"
        }
      ]
    },
    "guidedGameplayEnemies": {
      "id": "guidedGameplayEnemies",
      "speaker": "Pixel",
      "text": "Every hero needs challenges! Pick some enemies.",
      "action": "showAssets",
      "actionParams": {
        "type": "sprite",
        "category": "enemies",
        "curated": true,
        "multiple": true
      },
      "options": [
        {
          "text": "Enemies chosen!",
          "next": "guidedGameplayItems"
        }
      ]
    },
    "guidedGameplayItems": {
      "id": "guidedGameplayItems",
      "speaker": "Pixel",
      "text": "What should players collect? Choose some items!",
      "action": "showAssets",
      "actionParams": {
        "type": "sprite",
        "category": "items",
        "curated": true,
        "multiple": true
      },
      "options": [
        {
          "text": "Items selected!",
          "next": "guidedGameplaySound"
        }
      ]
    },
    "guidedGameplaySound": {
      "id": "guidedGameplaySound",
      "speaker": "Pixel",
      "text": "Let's add sound effects for actions like jumping and collecting items!",
      "action": "showAssets",
      "actionParams": {
        "type": "sound",
        "curated": true,
        "multiple": true
      },
      "options": [
        {
          "text": "Sounds good!",
          "action": "compileGameplayScene",
          "next": "guidedGameplayPreview"
        }
      ]
    },
    "guidedGameplayPreview": {
      "id": "guidedGameplayPreview",
      "speaker": "Pixel",
      "text": "Let's see your gameplay in action! I've assembled all your choices.",
      "action": "launchPyodidePreview",
      "actionParams": { "scene": "gameplay" },
      "options": [
        {
          "text": "This plays great! On to the ending",
          "next": "guidedEndScreen"
        },
        {
          "text": "Let me tweak it",
          "next": "guidedGameplayTweak"
        }
      ]
    },
    "guidedGameplayTweak": {
      "id": "guidedGameplayTweak",
      "speaker": "Pixel",
      "text": "What would you like to adjust?",
      "options": [
        {
          "text": "Change jump physics",
          "next": "guidedGameplayMovement"
        },
        {
          "text": "Swap character sprite",
          "next": "guidedGameplayCharacter"
        },
        {
          "text": "Adjust combat style",
          "next": "guidedGameplayCombat"
        },
        {
          "text": "Actually, it's perfect!",
          "next": "guidedEndScreen"
        }
      ]
    },
    "guidedEndScreen": {
      "id": "guidedEndScreen",
      "speaker": "Pixel",
      "text": "Final scene! How should we show the score?",
      "action": "showComponentChoice",
      "actionParams": {
        "componentId": "score",
        "category": "ui"
      },
      "options": [
        {
          "text": "A: Animated Counter - Numbers tick up dramatically!",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "score", "variant": "A" },
          "next": "guidedEndMusic"
        },
        {
          "text": "B: Instant Display - Show final score immediately!",
          "action": "selectComponentVariant",
          "actionParams": { "componentId": "score", "variant": "B" },
          "next": "guidedEndMusic"
        }
      ]
    },
    "guidedEndMusic": {
      "id": "guidedEndMusic",
      "speaker": "Pixel",
      "text": "Choose victory music to celebrate the win!",
      "action": "showAssets",
      "actionParams": {
        "type": "music",
        "category": "victory",
        "curated": true
      },
      "options": [
        {
          "text": "Victory music selected!",
          "action": "compileEndScene",
          "next": "guidedComplete"
        }
      ]
    },
    "guidedComplete": {
      "id": "guidedComplete",
      "speaker": "Pixel",
      "text": "🎉 CONGRATULATIONS! You've built a COMPLETE game! Title ✓ Gameplay ✓ Ending ✓ All using the components and assets you chose!",
      "followUp": "Ready to play your creation or export it?",
      "action": "compileFullGame",
      "options": [
        {
          "text": "Play my complete game!",
          "action": "launchPyodideGame"
        },
        {
          "text": "Export as Python file",
          "action": "exportPyodideGame"
        },
        {
          "text": "Open in Pro Editor",
          "action": "openWYSIWYGEditor"
        }
      ]
    },
    "learnPath": {
      "id": "learnPath",
      "speaker": "Pixel",
      "text": "Smart choice! Python's like the secret language of games - once you know it, you can make anything!",
      "followUp": "I've got 10 super fun lessons lined up. We'll start simple and before you know it, you'll be making actual games!",
      "options": [
        {
          "text": "Let's start from the very beginning!",
          "action": "loadLesson",
          "actionParams": { "lesson": 1 }
        },
        {
          "text": "What will I learn? Show me everything!",
          "next": "lessonMenu"
        },
        {
          "text": "Actually, I might know some of this already...",
          "next": "lessonSkillCheck"
        }
      ]
    },
    "lessonMenu": {
      "id": "lessonMenu",
      "speaker": "Pixel",
      "text": "Here's my full curriculum! Each lesson is like unlocking a new power-up! 🎮",
      "followUp": "Where do you want to start your journey?",
      "options": [
        {
          "text": "The very beginning - Hello World!",
          "action": "loadLesson",
          "actionParams": { "lesson": 1 }
        },
        {
          "text": "Math stuff sounds interesting",
          "action": "loadLesson",
          "actionParams": { "lesson": 2 }
        },
        {
          "text": "How do I make my game make decisions?",
          "action": "loadLesson",
          "actionParams": { "lesson": 3 }
        },
        {
          "text": "What are loops for?",
          "action": "loadLesson",
          "actionParams": { "lesson": 4 }
        },
        {
          "text": "Show me more →",
          "next": "lessonMenuPage2"
        },
        {
          "text": "Actually, let me think about this",
          "next": "start"
        }
      ]
    },
    "lessonMenuPage2": {
      "id": "lessonMenuPage2",
      "speaker": "Pixel",
      "text": "More Python powers await! These lessons get into the really fun stuff!",
      "options": [
        {
          "text": "Lesson 5: Lists & Collections",
          "action": "loadLesson",
          "actionParams": { "lesson": 5 }
        },
        {
          "text": "Lesson 6: Functions",
          "action": "loadLesson",
          "actionParams": { "lesson": 6 }
        },
        {
          "text": "Lesson 7: Dictionaries",
          "action": "loadLesson",
          "actionParams": { "lesson": 7 }
        },
        {
          "text": "Lesson 8: Classes & Objects",
          "action": "loadLesson",
          "actionParams": { "lesson": 8 }
        },
        {
          "text": "Advanced lessons →",
          "next": "lessonMenuPage3"
        },
        {
          "text": "← Previous lessons",
          "next": "lessonMenu"
        }
      ]
    },
    "lessonMenuPage3": {
      "id": "lessonMenuPage3",
      "speaker": "Pixel",
      "text": "The final lessons - where Python becomes PyGame! 🚀",
      "followUp": "These teach you actual game development!",
      "options": [
        {
          "text": "Lesson 9: PyGame Introduction",
          "action": "loadLesson",
          "actionParams": { "lesson": 9 }
        },
        {
          "text": "Lesson 10: Build Your First Game!",
          "action": "loadLesson",
          "actionParams": { "lesson": 10 }
        },
        {
          "text": "← Previous lessons",
          "next": "lessonMenuPage2"
        },
        {
          "text": "Back to main menu",
          "next": "start"
        }
      ]
    },
    "lessonSkillCheck": {
      "id": "lessonSkillCheck",
      "speaker": "Pixel",
      "text": "No problem! Let's figure out where you're at so we don't waste your time!",
      "followUp": "Quick check - what can you already do in Python?",
      "options": [
        {
          "text": "I can make variables and do some math",
          "next": "suggestLesson3"
        },
        {
          "text": "If statements and loops? Yeah, I got those",
          "next": "suggestLesson5"
        },
        {
          "text": "Functions, lists, that intermediate stuff",
          "next": "suggestLesson7"
        },
        {
          "text": "I'm basically a Python ninja already",
          "next": "suggestLesson9"
        },
        {
          "text": "You know what? Let's just start fresh",
          "next": "lessonMenu"
        }
      ]
    },
    "suggestLesson3": {
      "id": "suggestLesson3",
      "speaker": "Pixel",
      "text": "Sweet! You've got the basics down. How about we jump into making your code think?",
      "followUp": "Lesson 3 is all about decisions - like 'if the player hits a wall, bounce them back!' Super important for games!",
      "options": [
        {
          "text": "Yeah! Let's make smart code!",
          "action": "loadLesson",
          "actionParams": { "lesson": 3 }
        },
        {
          "text": "Hmm, what else is there?",
          "next": "lessonMenu"
        }
      ]
    },
    "suggestLesson5": {
      "id": "suggestLesson5",
      "speaker": "Pixel",
      "text": "Oh nice! You're past the beginner stuff. Time for the good parts!",
      "followUp": "Lists are like... imagine your game inventory, or tracking all the enemies on screen. Essential stuff!",
      "options": [
        {
          "text": "That's exactly what I need!",
          "action": "loadLesson",
          "actionParams": { "lesson": 5 }
        },
        {
          "text": "Let me browse around first",
          "next": "lessonMenu"
        }
      ]
    },
    "suggestLesson7": {
      "id": "suggestLesson7",
      "speaker": "Pixel",
      "text": "Whoa, look at you! You're ready for the advanced stuff!",
      "followUp": "Dictionaries are like cheat sheets for your game - storing player stats, item properties, all that good data!",
      "options": [
        {
          "text": "Perfect, I love organizing data!",
          "action": "loadLesson",
          "actionParams": { "lesson": 7 }
        },
        {
          "text": "What else you got?",
          "next": "lessonMenu"
        }
      ]
    },
    "suggestLesson9": {
      "id": "suggestLesson9",
      "speaker": "Pixel",
      "text": "A Python ninja! You're totally ready for the real game development!",
      "followUp": "Want to dive straight into PyGame? Or go all-in and build something right now?",
      "options": [
        {
          "text": "Show me PyGame's secrets!",
          "action": "loadLesson",
          "actionParams": { "lesson": 9 }
        },
        {
          "text": "I'm ready to BUILD!",
          "action": "loadLesson",
          "actionParams": { "lesson": 10 }
        },
        {
          "text": "Let me see everything first",
          "next": "lessonMenu"
        }
      ]
    },
    "lessonComplete": {
      "id": "lessonComplete",
      "speaker": "Pixel",
      "text": "🎉 Lesson Complete! You're getting stronger! 💪",
      "followUp": "What would you like to do next?",
      "conditionalOptions": {
        "lessonNumber": {
          "1": [
            {
              "text": "Continue to Lesson 2 - Math & Operations",
              "action": "loadLesson",
              "actionParams": { "lesson": 2 }
            },
            {
              "text": "Try making a simple game!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "2": [
            {
              "text": "Continue to Lesson 3 - Conditionals",
              "action": "loadLesson",
              "actionParams": { "lesson": 3 }
            },
            {
              "text": "Try making a game with math!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "3": [
            {
              "text": "Continue to Lesson 4 - Loops",
              "action": "loadLesson",
              "actionParams": { "lesson": 4 }
            },
            {
              "text": "Make a game with choices!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "4": [
            {
              "text": "Continue to Lesson 5 - Lists",
              "action": "loadLesson",
              "actionParams": { "lesson": 5 }
            },
            {
              "text": "Build a game with loops!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "5": [
            {
              "text": "Continue to Lesson 6 - Functions",
              "action": "loadLesson",
              "actionParams": { "lesson": 6 }
            },
            {
              "text": "Make an inventory game!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "6": [
            {
              "text": "Continue to Lesson 7 - Dictionaries",
              "action": "loadLesson",
              "actionParams": { "lesson": 7 }
            },
            {
              "text": "Build a modular game!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "7": [
            {
              "text": "Continue to Lesson 8 - Classes",
              "action": "loadLesson",
              "actionParams": { "lesson": 8 }
            },
            {
              "text": "Create a data-driven game!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "8": [
            {
              "text": "Continue to Lesson 9 - PyGame Intro",
              "action": "loadLesson",
              "actionParams": { "lesson": 9 }
            },
            {
              "text": "Build an object-oriented game!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "9": [
            {
              "text": "Continue to Lesson 10 - Build a Game!",
              "action": "loadLesson",
              "actionParams": { "lesson": 10 }
            },
            {
              "text": "Start making games NOW!",
              "next": "gamePath"
            },
            {
              "text": "Back to lesson menu",
              "next": "lessonMenu"
            }
          ],
          "10": [
            {
              "text": "🎮 Build my dream game!",
              "next": "gamePath"
            },
            {
              "text": "Review any lesson",
              "next": "lessonMenu"
            },
            {
              "text": "Open the game editor",
              "action": "openWYSIWYGEditor"
            }
          ],
          "default": [
            {
              "text": "Continue learning",
              "next": "lessonMenu"
            },
            {
              "text": "Start making games",
              "next": "gamePath"
            }
          ]
        }
      }
    },
    "error": {
      "id": "error",
      "speaker": "Pixel",
      "text": "Uh oh! Something went a bit sideways there. No worries though, happens to the best of us!",
      "options": [
        {
          "text": "Let's try that again!",
          "next": "start"
        },
        {
          "text": "I need some help here...",
          "action": "openHelp"
        }
      ]
    }
  },
  "startNode": "start"
}